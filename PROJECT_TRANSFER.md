# FTR Registration System - –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –ø—Ä–æ–µ–∫—Ç–∞

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2025-11-28  
**–í–µ—Ä—Å–∏—è –ø—Ä–æ–µ–∫—Ç–∞:** 1.0  
**–°—Ç–∞—Ç—É—Å:** Production-ready —Å–∏—Å—Ç–µ–º–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∏ –±—É—Ö–≥–∞–ª—Ç–µ—Ä—Å–∫–æ–≥–æ —É—á–µ—Ç–∞

---

## üìã –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ

1. [–û–±—â–µ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞](#1-–æ–±—â–µ–µ-–æ–ø–∏—Å–∞–Ω–∏–µ-–ø—Ä–æ–µ–∫—Ç–∞)
2. [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏](#2-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞-–∏-—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏)
3. [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞](#3-—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–ø—Ä–æ–µ–∫—Ç–∞)
4. [–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∏ —Å—Ö–µ–º—ã](#4-–±–∞–∑–∞-–¥–∞–Ω–Ω—ã—Ö-–∏-—Å—Ö–µ–º—ã)
5. [API Endpoints](#5-api-endpoints)
6. [Frontend –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã](#6-frontend-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã)
7. [–ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏](#7-–∫–ª—é—á–µ–≤—ã–µ-–æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏)
8. [–†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞](#8-—Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ-–∏-—É—Å—Ç–∞–Ω–æ–≤–∫–∞)
9. [–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è](#9-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è-–∏-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ-–æ–∫—Ä—É–∂–µ–Ω–∏—è)
10. [–ò—Å—Ç–æ—Ä–∏—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏](#10-–∏—Å—Ç–æ—Ä–∏—è-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
11. [–í–∞–∂–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è –∏ –ø–∞—Ç—Ç–µ—Ä–Ω—ã](#11-–≤–∞–∂–Ω—ã–µ-—Ä–µ—à–µ–Ω–∏—è-–∏-–ø–∞—Ç—Ç–µ—Ä–Ω—ã)
12. [–ò–∑–≤–µ—Å—Ç–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è](#12-–∏–∑–≤–µ—Å—Ç–Ω—ã–µ-–ø—Ä–æ–±–ª–µ–º—ã-–∏-–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è)
13. [–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ —Ä–∞–∑–≤–∏—Ç–∏—è](#13-—Å–ª–µ–¥—É—é—â–∏–µ-—à–∞–≥–∏-—Ä–∞–∑–≤–∏—Ç–∏—è)

---

## 1. –û–±—â–µ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

### 1.1. –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ
–í–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ —Ç–∞–Ω—Ü–µ–≤–∞–ª—å–Ω—ã—Ö –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π –§–µ–¥–µ—Ä–∞—Ü–∏–∏ —Ç–∞–Ω—Ü–µ–≤ –†–æ—Å—Å–∏–∏ (FTR). –°–∏—Å—Ç–µ–º–∞ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç:
- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–ø–ª–∞—Ç–∞–º–∏ –∏ –±—É—Ö–≥–∞–ª—Ç–µ—Ä—Å–∫–∏–π —É—á–µ—Ç
- –£—á–µ—Ç –¥–∏–ø–ª–æ–º–æ–≤ –∏ –º–µ–¥–∞–ª–µ–π
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫—É
- –ò–º–ø–æ—Ä—Ç/—ç–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö

### 1.2. –¶–µ–ª–µ–≤–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è –∏ —Ä–æ–ª–∏
- **ADMIN** - –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º —Ñ—É–Ω–∫—Ü–∏—è–º —Å–∏—Å—Ç–µ–º—ã
- **REGISTRATOR** - —Å–æ–∑–¥–∞–Ω–∏–µ –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–π, –æ–ø–ª–∞—Ç—ã, –¥–∏–ø–ª–æ–º—ã
- **ACCOUNTANT** - –±—É—Ö–≥–∞–ª—Ç–µ—Ä–∏—è, –æ—Ç–∫–∞—Ç—ã, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø–∏—Å–µ–π
- **STATISTICIAN** - –ø—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏, —ç–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö

### 1.3. –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è–º–∏ (Events)
- ‚úÖ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π –Ω–æ–º–∏–Ω–∞—Ü–∏–π
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –æ–ø–ª–∞—Ç —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –∏ –æ—Ç–∫–∞—Ç–∞–º–∏
- ‚úÖ –£—á–µ—Ç –¥–∏–ø–ª–æ–º–æ–≤ –∏ –º–µ–¥–∞–ª–µ–π
- ‚úÖ –ë—É—Ö–≥–∞–ª—Ç–µ—Ä—Å–∫–∏–π —É—á–µ—Ç —Å soft delete
- ‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
- ‚úÖ –ò–º–ø–æ—Ä—Ç –∏–∑ Excel
- ‚úÖ –≠–∫—Å–ø–æ—Ä—Ç –≤ Excel, CSV, PDF
- ‚úÖ –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
- ‚úÖ –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–π
- ‚úÖ –®–∞–±–ª–æ–Ω—ã —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–π
- ‚úÖ –ú–∞—Å—Å–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
- ‚úÖ Email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- ‚úÖ –ú–Ω–æ–≥–æ—è–∑—ã—á–Ω–æ—Å—Ç—å (RU/EN)

---

## 2. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

### 2.1. Backend
- **Runtime:** Node.js 20.x
- **Framework:** Express.js
- **Language:** TypeScript
- **ORM:** Prisma 5.x
- **Database:** PostgreSQL 14+
- **Cache:** Redis
- **Authentication:** JWT (–¥–æ–ª–≥–æ–∂–∏–≤—É—â–∏–µ —Ç–æ–∫–µ–Ω—ã, 100 –ª–µ—Ç)
- **Password Hashing:** bcryptjs (10 rounds)
- **Validation:** express-validator
- **Rate Limiting:** express-rate-limit
- **Email:** nodemailer
- **PDF Generation:** pdfkit, pdfmake
- **Excel:** ExcelJS

### 2.2. Frontend
- **Framework:** React 18
- **Language:** TypeScript
- **Build Tool:** Vite
- **UI Library:** Material-UI (MUI) v5
- **Routing:** React Router v6
- **State Management:** React Context API
- **HTTP Client:** Axios
- **Charts:** Recharts
- **i18n:** react-i18next
- **Date Handling:** date-fns

### 2.3. –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- **Containerization:** Docker + Docker Compose
- **Web Server:** Nginx (–¥–ª—è production) / serve (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
- **Version Control:** Git (GitHub: https://github.com/punk03/FTR_REG)
- **CI/CD:** GitHub Actions (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### 2.4. –ú–æ–Ω–æ—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
–ü—Ä–æ–µ–∫—Ç –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω –∫–∞–∫ –º–æ–Ω–æ—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º –Ω–∞ backend –∏ frontend.

---

## 3. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
FTR_REG/
‚îú‚îÄ‚îÄ backend/                    # Backend –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ routes/            # API –º–∞—Ä—à—Ä—É—Ç—ã
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth.ts        # –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ events.ts      # –ú–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ registrations.ts # –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ payments.ts    # –û–ø–ª–∞—Ç—ã
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ accounting.ts  # –ë—É—Ö–≥–∞–ª—Ç–µ—Ä–∏—è
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ diplomas.ts    # –î–∏–ø–ª–æ–º—ã –∏ –º–µ–¥–∞–ª–∏
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ statistics.ts  # –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ admin.ts       # –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ excelImport.ts # –ò–º–ø–æ—Ä—Ç Excel
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ services/          # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ registrationService.ts
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ paymentService.ts
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ cacheService.ts
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ emailService.ts
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ registrationHistoryService.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ middleware/         # Middleware
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth.ts        # JWT –ø—Ä–æ–≤–µ—Ä–∫–∞
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ rateLimit.ts   # Rate limiting
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ errorHandler.ts
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ auditLog.ts    # –ê—É–¥–∏—Ç –¥–µ–π—Å—Ç–≤–∏–π
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ utils/             # –£—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ jwt.ts         # JWT –≥–µ–Ω–µ—Ä–∞—Ü–∏—è/–≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ types/             # TypeScript —Ç–∏–ø—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ config/            # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ swagger.ts     # Swagger/OpenAPI
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.ts           # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îÇ   ‚îú‚îÄ‚îÄ prisma/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ schema.prisma      # Prisma —Å—Ö–µ–º–∞ –ë–î
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ seed.ts            # Seed –¥–∞–Ω–Ω—ã–µ
‚îÇ   ‚îú‚îÄ‚îÄ __tests__/             # Unit —Ç–µ—Å—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ package.json
‚îÇ   ‚îî‚îÄ‚îÄ tsconfig.json
‚îÇ
‚îú‚îÄ‚îÄ frontend/                   # Frontend –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ pages/              # –°—Ç—Ä–∞–Ω–∏—Ü—ã
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Login.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Dashboard.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ RegistrationsList.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ RegistrationForm.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ RegistrationDetails.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ CombinedPayment.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Accounting.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Diplomas.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Statistics.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Admin.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ components/        # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Layout.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ProtectedRoute.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AutoCompleteTextField.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ParticipantModal.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ DiscountTiersEditor.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ExcelImportDialog.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ context/            # React Context
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AuthContext.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ NotificationContext.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ services/           # API –∫–ª–∏–µ–Ω—Ç
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ api.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ utils/              # –£—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ format.ts
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ pdfExport.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ types/              # TypeScript —Ç–∏–ø—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ i18n/               # –ò–Ω—Ç–µ—Ä–Ω–∞—Ü–∏–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ config.ts
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ locales/
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ ru.json
‚îÇ   ‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ en.json
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ theme.ts            # Material-UI —Ç–µ–º–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ App.tsx             # –ì–ª–∞–≤–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ main.tsx            # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îÇ   ‚îú‚îÄ‚îÄ package.json
‚îÇ   ‚îú‚îÄ‚îÄ vite.config.ts
‚îÇ   ‚îî‚îÄ‚îÄ tsconfig.json
‚îÇ
‚îú‚îÄ‚îÄ docker/                     # Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ docker-compose.yml          # Docker Compose –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
‚îú‚îÄ‚îÄ docker-compose.prod.yml     # Docker Compose –¥–ª—è production
‚îÇ
‚îú‚îÄ‚îÄ install.sh                  # –°–∫—Ä–∏–ø—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –Ω–∞ Ubuntu 24
‚îú‚îÄ‚îÄ deploy.sh                   # –°–∫—Ä–∏–ø—Ç —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
‚îú‚îÄ‚îÄ update.sh                   # –°–∫—Ä–∏–ø—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
‚îú‚îÄ‚îÄ auto-update.sh              # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
‚îÇ
‚îú‚îÄ‚îÄ TECHNICAL_SPECIFICATION.md  # –¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ
‚îú‚îÄ‚îÄ CHANGELOG.md                # –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
‚îú‚îÄ‚îÄ REMAINING_TASKS.md          # –û—Å—Ç–∞–≤—à–∏–µ—Å—è –∑–∞–¥–∞—á–∏
‚îú‚îÄ‚îÄ DEVELOPMENT_PLAN.md         # –ü–ª–∞–Ω —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
‚îú‚îÄ‚îÄ USER_GUIDE.md               # –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
‚îú‚îÄ‚îÄ README.md                   # –û—Å–Ω–æ–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îî‚îÄ‚îÄ package.json                # Root package.json (workspace)
```

---

## 4. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∏ —Å—Ö–µ–º—ã

### 4.1. Prisma Schema
–û—Å–Ω–æ–≤–Ω—ã–µ –º–æ–¥–µ–ª–∏:

**User** - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å–∏—Å—Ç–µ–º—ã
- id, name, email, password, role (ADMIN/REGISTRATOR/ACCOUNTANT/STATISTICIAN)
- city, phone (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**Event** - –ú–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è
- id, name, startDate, endDate, status (DRAFT/ACTIVE/ARCHIVED)
- paymentEnable, categoryEnable, songEnable
- durationMax, durationGroupsInterval, durationParticipantsInterval
- pricePerDiploma, pricePerMedal (Decimal)
- discountTiers (JSON —Å—Ç—Ä–æ–∫–∞)

**EventPrice** - –¶–µ–Ω—ã –Ω–∞ –≤—ã—Å—Ç—É–ø–ª–µ–Ω–∏—è –ø–æ –Ω–æ–º–∏–Ω–∞—Ü–∏—è–º
- eventId, nominationId
- pricePerParticipant, pricePerFederationParticipant (Decimal)

**Collective** - –ö–æ–ª–ª–µ–∫—Ç–∏–≤—ã
- id, name (unique), accessory, school, contacts, city

**Person** - –ü–µ—Ä—Å–æ–Ω—ã (—Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª–∏/—Ç—Ä–µ–Ω–µ—Ä—ã)
- id, fullName, role (LEADER/TRAINER), phone

**Registration** - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
- id, userId, eventId, collectiveId
- number (–Ω–æ–º–µ—Ä –≤ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–∏)
- danceName, disciplineId, nominationId, ageId, categoryId
- participantsCount, federationParticipantsCount
- diplomasCount, diplomasList (–º–Ω–æ–≥–æ—Å—Ç—Ä–æ—á–Ω—ã–π —Ç–µ–∫—Å—Ç)
- medalsCount
- paymentStatus (UNPAID/PERFORMANCE_PAID/DIPLOMAS_PAID/PAID)
- registrationStatus (PENDING/APPROVED/REJECTED)
- blockNumber, song, duration
- deletedAt (soft delete)

**Participant** - –£—á–∞—Å—Ç–Ω–∏–∫–∏
- id, fullName, birthDate, age (–≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è)

**RegistrationParticipant** - –°–≤—è–∑—å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–π –∏ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
- registrationId, participantId

**AccountingEntry** - –ë—É—Ö–≥–∞–ª—Ç–µ—Ä—Å–∫–∏–µ –∑–∞–ø–∏—Å–∏
- id, registrationId, collectiveId
- paymentGroupId (UUID –¥–ª—è –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏)
- amount (Decimal), paymentMethod (CASH/CARD/TRANSFER)
- paidFor (PERFORMANCE/DIPLOMAS_MEDALS)
- deletedAt (soft delete)

**Payment** - –ü–ª–∞—Ç–µ–∂–∏ (—É—Å—Ç–∞—Ä–µ–≤—à–∞—è –º–æ–¥–µ–ª—å, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è AccountingEntry)

**SystemSetting** - –°–∏—Å—Ç–µ–º–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- key (unique), value (String, –º–æ–∂–µ—Ç –±—ã—Ç—å JSON)
- description, updatedBy, updatedAt

**RegistrationHistory** - –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–π
- id, registrationId, userId, action (CREATE/UPDATE/DELETE)
- oldValues, newValues (JSON)
- createdAt

**RegistrationTemplate** - –®–∞–±–ª–æ–Ω—ã —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–π
- id, userId, name, formData (JSON)

**DraftRegistration** - –ß–µ—Ä–Ω–æ–≤–∏–∫–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–π
- id, userId, eventId, formData (JSON)
- createdAt, updatedAt

**AuditLog** - –ê—É–¥–∏—Ç –¥–µ–π—Å—Ç–≤–∏–π –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤
- id, userId, action, entityType, entityId
- oldValue, newValue (JSON)
- ipAddress, createdAt

**–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏:**
- Discipline (47 –¥–∏—Å—Ü–∏–ø–ª–∏–Ω)
- Nomination (7 –Ω–æ–º–∏–Ω–∞—Ü–∏–π)
- Age (8 –≤–æ–∑—Ä–∞—Å—Ç–Ω—ã—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π)
- Category (3 –∫–∞—Ç–µ–≥–æ—Ä–∏–∏)

### 4.2. –ú–∏–≥—Ä–∞—Ü–∏–∏
–ú–∏–≥—Ä–∞—Ü–∏–∏ Prisma –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ `backend/prisma/migrations/`. –ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ —Å–æ–∑–¥–∞–µ—Ç—Å—è –Ω–∞—á–∞–ª—å–Ω–∞—è –º–∏–≥—Ä–∞—Ü–∏—è.

### 4.3. Seed –¥–∞–Ω–Ω—ã–µ
`backend/prisma/seed.ts` —Å–æ–∑–¥–∞–µ—Ç:
- –í—Å–µ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏ (47 –¥–∏—Å—Ü–∏–ø–ª–∏–Ω, 7 –Ω–æ–º–∏–Ω–∞—Ü–∏–π, 8 –≤–æ–∑—Ä–∞—Å—Ç–æ–≤, 3 –∫–∞—Ç–µ–≥–æ—Ä–∏–∏)
- 4 –¥–µ–º–æ-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (ADMIN, REGISTRATOR, ACCOUNTANT, STATISTICIAN)
- –¢–µ—Å—Ç–æ–≤–æ–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–µ —Å —Ü–µ–Ω–∞–º–∏
- –°–∏—Å—Ç–µ–º–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

---

## 5. API Endpoints

### 5.1. –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (`/api/auth`)
- `POST /api/auth/login` - –í—Ö–æ–¥ (email, password)
- `POST /api/auth/refresh` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤
- `GET /api/auth/me` - –¢–µ–∫—É—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
- `POST /api/auth/logout` - –í—ã—Ö–æ–¥

### 5.2. –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏ (`/api/reference`)
- `GET /api/reference/disciplines` - –î–∏—Å—Ü–∏–ø–ª–∏–Ω—ã
- `GET /api/reference/nominations` - –ù–æ–º–∏–Ω–∞—Ü–∏–∏
- `GET /api/reference/ages` - –í–æ–∑—Ä–∞—Å—Ç—ã
- `GET /api/reference/categories` - –ö–∞—Ç–µ–≥–æ—Ä–∏–∏
- `GET /api/reference/events` - –ú–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è (—Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –ø–æ —Å—Ç–∞—Ç—É—Å—É)

### 5.3. –ú–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è (`/api/events`)
- `GET /api/events` - –°–ø–∏—Å–æ–∫ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π
- `GET /api/events/:id` - –î–µ—Ç–∞–ª–∏ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è
- `POST /api/events` - –°–æ–∑–¥–∞–Ω–∏–µ (ADMIN)
- `PUT /api/events/:id` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ (ADMIN)
- `POST /api/events/:id/duplicate` - –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ (ADMIN)
- `DELETE /api/events/:id` - –£–¥–∞–ª–µ–Ω–∏–µ (ADMIN)
- `DELETE /api/events/:id/registrations` - –£–¥–∞–ª–µ–Ω–∏–µ –≤—Å–µ—Ö —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–π (ADMIN)

### 5.4. –¶–µ–Ω—ã –Ω–∞ –≤—ã—Å—Ç—É–ø–ª–µ–Ω–∏—è (`/api/events/:id/prices`)
- `GET /api/events/:id/prices` - –°–ø–∏—Å–æ–∫ —Ü–µ–Ω
- `POST /api/events/:id/prices` - –°–æ–∑–¥–∞–Ω–∏–µ —Ü–µ–Ω—ã (ADMIN)
- `PUT /api/events/:eventId/prices` - –ú–∞—Å—Å–æ–≤–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ (ADMIN)

### 5.5. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ (`/api/registrations`)
- `GET /api/registrations` - –°–ø–∏—Å–æ–∫ (—Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π, –ø–æ–∏—Å–∫–æ–º, –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π)
- `GET /api/registrations/:id` - –î–µ—Ç–∞–ª–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
- `POST /api/registrations` - –°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
- `PATCH /api/registrations/:id` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
- `DELETE /api/registrations/:id` - –£–¥–∞–ª–µ–Ω–∏–µ (ADMIN)
- `GET /api/registrations/:id/calculate-price` - –†–∞—Å—á–µ—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏
- `POST /api/registrations/count-in-direction` - –ü–æ–¥—Å—á–µ—Ç –∑–∞—è–≤–æ–∫ –≤ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏
- `GET /api/registrations/drafts` - –ß–µ—Ä–Ω–æ–≤–∏–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `DELETE /api/registrations/drafts/:id` - –£–¥–∞–ª–µ–Ω–∏–µ —á–µ—Ä–Ω–æ–≤–∏–∫–∞
- `GET /api/registrations/:id/history` - –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
- `GET /api/registrations/templates` - –®–∞–±–ª–æ–Ω—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `POST /api/registrations/templates` - –°–æ–∑–¥–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞
- `DELETE /api/registrations/templates/:id` - –£–¥–∞–ª–µ–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞
- `PATCH /api/registrations/bulk-status` - –ú–∞—Å—Å–æ–≤–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞
- `PATCH /api/registrations/bulk-block-number` - –ú–∞—Å—Å–æ–≤–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –±–ª–æ–∫–∞
- `DELETE /api/registrations/bulk-delete` - –ú–∞—Å—Å–æ–≤–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ

### 5.6. –£—á–∞—Å—Ç–Ω–∏–∫–∏ (`/api/participants`)
- `GET /api/participants` - –°–ø–∏—Å–æ–∫ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
- `POST /api/participants` - –°–æ–∑–¥–∞–Ω–∏–µ —É—á–∞—Å—Ç–Ω–∏–∫–∞ (—Å —Ä–∞—Å—á–µ—Ç–æ–º –≤–æ–∑—Ä–∞—Å—Ç–∞)

### 5.7. –û–ø–ª–∞—Ç—ã (`/api/payments`)
- `POST /api/payments/create` - –°–æ–∑–¥–∞–Ω–∏–µ –æ–ø–ª–∞—Ç—ã (–≥—Ä—É–ø–ø–æ–≤–∞—è)
- `GET /api/payments/price-settings` - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ü–µ–Ω
- `PUT /api/payments/price-settings` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ (ADMIN)

### 5.8. –ë—É—Ö–≥–∞–ª—Ç–µ—Ä–∏—è (`/api/accounting`)
- `GET /api/accounting` - –°–ø–∏—Å–æ–∫ –∑–∞–ø–∏—Å–µ–π (ADMIN, ACCOUNTANT)
- `PUT /api/accounting/:id` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å–∏
- `DELETE /api/accounting/:id` - –£–¥–∞–ª–µ–Ω–∏–µ (soft delete, ADMIN)
- `POST /api/accounting/:id/restore` - –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ (ADMIN)
- `PUT /api/accounting/payment-group/:paymentGroupId/name` - –ò–∑–º–µ–Ω–µ–Ω–∏–µ –Ω–∞–∑–≤–∞–Ω–∏—è –≥—Ä—É–ø–ø—ã
- `PUT /api/accounting/payment-group/:paymentGroupId/discount` - –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –æ—Ç–∫–∞—Ç–∞

### 5.9. –î–∏–ø–ª–æ–º—ã –∏ –º–µ–¥–∞–ª–∏ (`/api/diplomas`)
- `GET /api/diplomas` - –°–ø–∏—Å–æ–∫ (—Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π, –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π)
- `POST /api/diplomas/pay` - –ú–∞—Å—Å–æ–≤–∞—è –æ–ø–ª–∞—Ç–∞ –¥–∏–ø–ª–æ–º–æ–≤
- `POST /api/diplomas/:id/cancel-payment` - –û—Ç–º–µ–Ω–∞ –æ–ø–ª–∞—Ç—ã (—Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ–º –ø–æ –≤—Ä–µ–º–µ–Ω–∏)
- `PATCH /api/diplomas/:id/printed` - –û—Ç–º–µ—Ç–∫–∞ –ø–µ—á–∞—Ç–∏
- `PATCH /api/diplomas/bulk-printed` - –ú–∞—Å—Å–æ–≤–∞—è –æ—Ç–º–µ—Ç–∫–∞ –ø–µ—á–∞—Ç–∏
- `DELETE /api/diplomas/:id` - –£–¥–∞–ª–µ–Ω–∏–µ (soft delete)
- `POST /api/diplomas/:id/restore` - –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ
- `GET /api/diplomas/export/pdf` - –≠–∫—Å–ø–æ—Ä—Ç –¥–∏–ø–ª–æ–º–æ–≤ –≤ PDF

### 5.10. –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (`/api/statistics`)
- `GET /api/statistics` - –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—é
- `GET /api/statistics/export/excel` - –≠–∫—Å–ø–æ—Ä—Ç –≤ Excel
- `GET /api/statistics/export/csv` - –≠–∫—Å–ø–æ—Ä—Ç –≤ CSV
- `GET /api/statistics/export/pdf` - –≠–∫—Å–ø–æ—Ä—Ç –≤ PDF

### 5.11. –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å (`/api/admin`)
- `GET /api/admin/users` - –°–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (ADMIN)
- `POST /api/admin/users` - –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (ADMIN)
- `PUT /api/admin/users/:id` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (ADMIN)
- `DELETE /api/admin/users/:id` - –£–¥–∞–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (ADMIN)
- `GET /api/admin/collectives` - –°–ø–∏—Å–æ–∫ –∫–æ–ª–ª–µ–∫—Ç–∏–≤–æ–≤ (ADMIN)
- `DELETE /api/admin/collectives/:id` - –£–¥–∞–ª–µ–Ω–∏–µ –∫–æ–ª–ª–µ–∫—Ç–∏–≤–∞ (ADMIN)
- `GET /api/admin/persons` - –°–ø–∏—Å–æ–∫ –ø–µ—Ä—Å–æ–Ω (ADMIN)
- `DELETE /api/admin/persons/:id` - –£–¥–∞–ª–µ–Ω–∏–µ –ø–µ—Ä—Å–æ–Ω—ã (ADMIN)
- `GET /api/admin/settings` - –°–ø–∏—Å–æ–∫ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫ (ADMIN)
- `PUT /api/admin/settings/:key` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (ADMIN)

### 5.12. –ò–º–ø–æ—Ä—Ç Excel (`/api/excel-import`)
- `POST /api/excel-import` - –ò–º–ø–æ—Ä—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–π –∏–∑ Excel
  - –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç dryRun —Ä–µ–∂–∏–º –¥–ª—è –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä–∞
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–π
  - –ü–∞—Ä—Å–∏–Ω–≥ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –∏–∑ —Å—Ç—Ä–æ–∫–∏

### 5.13. –ê–≤—Ç–æ–∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ (`/api/suggestions`)
- `GET /api/suggestions/collectives?q=query` - –ü–æ–∏—Å–∫ –∫–æ–ª–ª–µ–∫—Ç–∏–≤–æ–≤
- `GET /api/suggestions/persons?q=query&role=LEADER|TRAINER` - –ü–æ–∏—Å–∫ –ø–µ—Ä—Å–æ–Ω

### 5.14. Health Checks
- `GET /health` - –ü—Ä–æ—Å—Ç–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
- `GET /api/health` - –î–µ—Ç–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ (–ë–î, Redis)

---

## 6. Frontend –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### 6.1. –°—Ç—Ä–∞–Ω–∏—Ü—ã (Pages)
- **Login.tsx** - –°—Ç—Ä–∞–Ω–∏—Ü–∞ –≤—Ö–æ–¥–∞
- **Dashboard.tsx** - –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–æ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π
- **RegistrationsList.tsx** - –°–ø–∏—Å–æ–∫ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–π —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏ –∏ –ø–æ–∏—Å–∫–æ–º
- **RegistrationForm.tsx** - –§–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ (–º–Ω–æ–≥–æ—à–∞–≥–æ–≤–∞—è)
- **RegistrationDetails.tsx** - –î–µ—Ç–∞–ª–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —Å –∏—Å—Ç–æ—Ä–∏–µ–π
- **CombinedPayment.tsx** - –î–≤—É—Ö—ç—Ç–∞–ø–Ω–∞—è –æ–ø–ª–∞—Ç–∞ (–≤—ã–±–æ—Ä –∑–∞—è–≤–æ–∫ ‚Üí —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ–ø–ª–∞—Ç–∞)
- **Accounting.tsx** - –ë—É—Ö–≥–∞–ª—Ç–µ—Ä–∏—è —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–ª–∞—Ç–µ–∂–µ–π
- **Diplomas.tsx** - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–∏–ø–ª–æ–º–∞–º–∏ –∏ –º–µ–¥–∞–ª—è–º–∏
- **Statistics.tsx** - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å –≥—Ä–∞—Ñ–∏–∫–∞–º–∏ –∏ —ç–∫—Å–ø–æ—Ä—Ç–æ–º
- **Admin.tsx** - –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏

### 6.2. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (Components)
- **Layout.tsx** - –û—Å–Ω–æ–≤–Ω–æ–π layout —Å –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π
- **ProtectedRoute.tsx** - –ó–∞—â–∏—Ç–∞ –º–∞—Ä—à—Ä—É—Ç–æ–≤ –ø–æ —Ä–æ–ª—è–º
- **AutoCompleteTextField.tsx** - –ü–æ–ª–µ –∞–≤—Ç–æ–∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è —Å debounce
- **ParticipantModal.tsx** - –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –≤—ã–±–æ—Ä–∞ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
- **DiscountTiersEditor.tsx** - –†–µ–¥–∞–∫—Ç–æ—Ä —É—Ä–æ–≤–Ω–µ–π –æ—Ç–∫–∞—Ç–æ–≤
- **ExcelImportDialog.tsx** - –î–∏–∞–ª–æ–≥ –∏–º–ø–æ—Ä—Ç–∞ Excel
- **ConfirmDialog.tsx** - –î–∏–∞–ª–æ–≥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
- **ErrorBoundary.tsx** - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ React

### 6.3. Context
- **AuthContext.tsx** - –ö–æ–Ω—Ç–µ–∫—Å—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ (—Ç–æ–∫–µ–Ω—ã, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å)
- **NotificationContext.tsx** - –ö–æ–Ω—Ç–µ–∫—Å—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π (Toast/Snackbar)

### 6.4. –£—Ç–∏–ª–∏—Ç—ã
- **format.ts** - –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞—Ç, –≤–∞–ª—é—Ç
- **pdfExport.ts** - –≠–∫—Å–ø–æ—Ä—Ç –≤ PDF (lazy loading pdfmake)

---

## 7. –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### 7.1. –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- **JWT —Ç–æ–∫–µ–Ω—ã:** –î–æ–ª–≥–æ–∂–∏–≤—É—â–∏–µ (100 –ª–µ—Ç), –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –±–µ—Å—Å—Ä–æ—á–Ω—ã–µ
- **–•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π:** bcryptjs —Å 10 rounds
- **Rate Limiting:** –†–∞–∑–Ω—ã–µ –ª–∏–º–∏—Ç—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤:
  - –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è: 5 –ø–æ–ø—ã—Ç–æ–∫ –∑–∞ 15 –º–∏–Ω—É—Ç
  - –û–ø–ª–∞—Ç—ã: 10 –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –º–∏–Ω—É—Ç—É
  - –ò–º–ø–æ—Ä—Ç Excel: 3 –∏–º–ø–æ—Ä—Ç–∞ –∑–∞ 5 –º–∏–Ω—É—Ç
  - –û–±—â–∏–µ API: 100 –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –º–∏–Ω—É—Ç—É
- **CORS:** –ù–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è production IP (185.185.68.105) –∏ localhost
- **Audit Log:** –í—Å–µ –¥–µ–π—Å—Ç–≤–∏—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è

### 7.2. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω—É–º–µ—Ä–∞—Ü–∏—è:** –ù–æ–º–µ—Ä–∞ –ø—Ä–∏—Å–≤–∞–∏–≤–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤ —Ä–∞–º–∫–∞—Ö –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è
- **–í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–æ–º–∏–Ω–∞—Ü–∏–π:** –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ —Å–æ–≥–ª–∞—Å–Ω–æ –Ω–æ–º–∏–Ω–∞—Ü–∏–∏
- **–ü–∞—Ä—Å–∏–Ω–≥ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤:** –ò–∑ —Å—Ç—Ä–æ–∫–∏ —Ñ–æ—Ä–º–∞—Ç–∞ "–§–ò–û1, –§–ò–û2, ..."
- **–ê–≤—Ç–æ–∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ:** –ö–æ–ª–ª–µ–∫—Ç–∏–≤—ã –∏ –ø–µ—Ä—Å–æ–Ω—ã —Å–æ–∑–¥–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
- **–ß–µ—Ä–Ω–æ–≤–∏–∫–∏:** –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã—Ö —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–π
- **–®–∞–±–ª–æ–Ω—ã:** –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏ –∑–∞–≥—Ä—É–∑–∫–∞ —à–∞–±–ª–æ–Ω–æ–≤ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–π
- **–ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π:** –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–π –ª–æ–≥–∏—Ä—É—é—Ç—Å—è

### 7.3. –û–ø–ª–∞—Ç—ã
- **–î–≤—É—Ö—ç—Ç–∞–ø–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å:**
  1. –í—ã–±–æ—Ä –∑–∞—è–≤–æ–∫ –¥–ª—è –æ–ø–ª–∞—Ç—ã (—Ç–∞–±–ª–∏—Ü–∞ —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π)
  2. –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏ –æ–ø–ª–∞—Ç–∞ (–∫–∞—Ä—Ç–æ—á–∫–∏ —Å —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º—ã–º–∏ –ø–æ–ª—è–º–∏)
- **–ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–ª–∞—Ç–µ–∂–µ–π:** –ß–µ—Ä–µ–∑ `paymentGroupId` (UUID)
- **–û—Ç–∫–∞—Ç—ã:** –†–∞—Å—Å—á–∏—Ç—ã–≤–∞—é—Ç—Å—è –æ—Ç –æ–±—â–µ–π —Å—É–º–º—ã –≤—Å–µ—Ö –≤—ã—Å—Ç—É–ø–ª–µ–Ω–∏–π –≤ –≥—Ä—É–ø–ø–µ
- **–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ —Å–ø–æ—Å–æ–±–∞–º –æ–ø–ª–∞—Ç—ã:** –ü—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –∏–ª–∏ —Ä—É—á–Ω–æ–µ
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ—Å—á–µ—Ç —Å—Ç–∞—Ç—É—Å–æ–≤:** –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –æ–ø–ª–∞—Ç

### 7.4. –î–∏–ø–ª–æ–º—ã –∏ –º–µ–¥–∞–ª–∏
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–¥—Å—á–µ—Ç –¥–∏–ø–ª–æ–º–æ–≤:** –ü–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É —Å—Ç—Ä–æ–∫ —Å —Ä—É—Å—Å–∫–∏–º–∏ —Å–∏–º–≤–æ–ª–∞–º–∏ –≤ `diplomasList`
- **–û—Ç–º–µ–Ω–∞ –æ–ø–ª–∞—Ç—ã:** –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∞ –ø–æ –≤—Ä–µ–º–µ–Ω–∏ (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –≤ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö)
- **–ú–∞—Å—Å–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏:** –û–ø–ª–∞—Ç–∞, –æ—Ç–º–µ—Ç–∫–∞ –ø–µ—á–∞—Ç–∏, —É–¥–∞–ª–µ–Ω–∏–µ
- **Soft Delete:** –£–¥–∞–ª–µ–Ω–Ω—ã–µ –∑–∞–ø–∏—Å–∏ –º–æ–∂–Ω–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å

### 7.5. –ë—É—Ö–≥–∞–ª—Ç–µ—Ä–∏—è
- **–ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞:** –ü–æ `paymentGroupId` —Å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º —Å–≤–æ–¥–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
- **Soft Delete:** –£–¥–∞–ª–µ–Ω–Ω—ã–µ –∑–∞–ø–∏—Å–∏ –ø–æ–º–µ—á–∞—é—Ç—Å—è `deletedAt`
- **–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ:** –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —É–¥–∞–ª–µ–Ω–Ω—ã–µ –∑–∞–ø–∏—Å–∏
- **–≠–∫—Å–ø–æ—Ä—Ç:** Excel, CSV, PDF

### 7.6. –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- **–†–µ–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è:** –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ polling (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–π –∏–Ω—Ç–µ—Ä–≤–∞–ª)
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ:** Redis –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
- **–ì—Ä–∞—Ñ–∏–∫–∏:** Recharts (–∫—Ä—É–≥–æ–≤—ã–µ, —Å—Ç–æ–ª–±—á–∞—Ç—ã–µ –¥–∏–∞–≥—Ä–∞–º–º—ã)
- **–≠–∫—Å–ø–æ—Ä—Ç:** Excel, CSV, PDF

### 7.7. –ò–º–ø–æ—Ä—Ç Excel
- **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤:** –ü–æ–∏—Å–∫ —Å—Ç—Ä–æ–∫–∏ —Å "‚Ññ" –∏–ª–∏ "–∫–æ–ª–ª–µ–∫—Ç–∏–≤"
- **–ü–∞—Ä—Å–∏–Ω–≥ –∫–∞—Ç–µ–≥–æ—Ä–∏–π:** –ò–∑ —Å—Ç—Ä–æ–∫–∏ —Ñ–æ—Ä–º–∞—Ç–∞ "–î–∏—Å—Ü–∏–ø–ª–∏–Ω–∞ (–ù–æ–º–∏–Ω–∞—Ü–∏—è) –í–æ–∑—Ä–∞—Å—Ç"
- **–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞:** –î–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ `currentCategory`
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ richText:** –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ —á—Ç–µ–Ω–∏–µ –¥–ª–∏–Ω–Ω—ã—Ö —è—á–µ–µ–∫ Excel
- **–í–∞–ª–∏–¥–∞—Ü–∏—è:** –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π
- **Dry Run:** –†–µ–∂–∏–º –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ø–µ—Ä–µ–¥ –∏–º–ø–æ—Ä—Ç–æ–º

### 7.8. –°–∏—Å—Ç–µ–º–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
–†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å —Å –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏:
- **–î–∏–ø–ª–æ–º—ã –∏ –º–µ–¥–∞–ª–∏:** –í—Ä–µ–º—è –æ—Ç–º–µ–Ω—ã –æ–ø–ª–∞—Ç—ã
- **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è:** –ù–∞—Å—Ç—Ä–æ–π–∫–∏ email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- **–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å:** –ü–∞–≥–∏–Ω–∞—Ü–∏—è, debounce, –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è, —è–∑—ã–∫
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:** Rate limiting, –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ –ø–∞—Ä–æ–ª—è
- **–≠–∫—Å–ø–æ—Ä—Ç:** –õ–∏–º–∏—Ç—ã —Å—Ç—Ä–æ–∫, —Ä–∞–∑–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã PDF
- **–†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ, –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã
- **–ò–º–ø–æ—Ä—Ç Excel:** –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞, —Å—Ç—Ä–æ–∫–∏ –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä–∞

### 7.9. –ò–Ω—Ç–µ—Ä–Ω–∞—Ü–∏–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è
- **–Ø–∑—ã–∫–∏:** –†—É—Å—Å–∫–∏–π (–æ—Å–Ω–æ–≤–Ω–æ–π), English
- **–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞:** react-i18next
- **–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ:** –Ø–∑—ã–∫ –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏

---

## 8. –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞

### 8.1. Production (Ubuntu 24)
**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞:**
```bash
curl -fsSL https://raw.githubusercontent.com/punk03/FTR_REG/main/install.sh -o install.sh
chmod +x install.sh
./install.sh
```

**–ò–ª–∏ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ:**
```bash
git clone https://github.com/punk03/FTR_REG.git ~/FTR_REG
cd ~/FTR_REG
chmod +x install.sh deploy.sh
bash install.sh
```

**–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ:**
```bash
cd ~/FTR_REG
./update.sh
```

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:**
```bash
./auto-update.sh  # –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
```

### 8.2. –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞
```bash
git clone https://github.com/punk03/FTR_REG.git
cd FTR_REG
npm install
cd backend && npm install
cd ../frontend && npm install
```

**–ó–∞–ø—É—Å–∫:**
```bash
# Backend (–ø–æ—Ä—Ç 3001)
cd backend
npm run dev

# Frontend (–ø–æ—Ä—Ç 5173)
cd frontend
npm run dev
```

**Docker Compose:**
```bash
docker-compose up -d  # PostgreSQL –∏ Redis
```

### 8.3. –ú–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
```bash
cd backend
npx prisma migrate dev  # –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞
npx prisma migrate deploy  # Production
npx prisma generate
npx prisma db seed  # Seed –¥–∞–Ω–Ω—ã–µ
```

### 8.4. –°–±–æ—Ä–∫–∞
```bash
# Backend
cd backend
npm run build

# Frontend
cd frontend
npm run build
```

---

## 9. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

### 9.1. Backend (.env)
```env
# Database
DATABASE_URL="postgresql://ftr_user:ftr_password@localhost:5432/ftr_db?schema=public"

# Redis
REDIS_HOST="localhost"
REDIS_PORT=6379

# JWT
JWT_SECRET="your-secret-key-change-in-production"
JWT_REFRESH_SECRET="your-refresh-secret-key-change-in-production"

# Server
PORT=3001
NODE_ENV=production

# CORS
CORS_ORIGIN="http://185.185.68.105:3000,http://185.185.68.105"

# Email (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
SMTP_HOST="smtp.example.com"
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER="user@example.com"
SMTP_PASSWORD="password"
SMTP_FROM="noreply@ftr.ru"
```

### 9.2. Frontend (.env)
```env
VITE_API_URL="http://185.185.68.105:3001"
```

### 9.3. Docker Compose
- **PostgreSQL:** –ü–æ—Ä—Ç 5432, –±–∞–∑–∞ `ftr_db`, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å `ftr_user`
- **Redis:** –ü–æ—Ä—Ç 6379

---

## 10. –ò—Å—Ç–æ—Ä–∏—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### 10.1. –ü–æ—Å–ª–µ–¥–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è (–∏–∑ CHANGELOG.md)
- ‚úÖ –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å —Å —Å–∏—Å—Ç–µ–º–Ω—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
- ‚úÖ –£–ª—É—á—à–µ–Ω–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã –æ–ø–ª–∞—Ç—ã (–¥–≤—É—Ö—ç—Ç–∞–ø–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å)
- ‚úÖ –°–∫—Ä–∏–ø—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- ‚úÖ –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –ª–æ–≥–∏–∫–∏ –æ–ø–ª–∞—Ç
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è Excel –∏–º–ø–æ—Ä—Ç–∞
- ‚úÖ –£–ª—É—á—à–µ–Ω–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–π

### 10.2. –í–∞–∂–Ω—ã–µ –∫–æ–º–º–∏—Ç—ã
- `aae221e` - Fix: convert durationMax and interval fields to integers
- `6ae89de` - Update CHANGELOG: expanded admin panel
- `2b4740a` - Expand admin panel with comprehensive system settings
- `0193102` - Refactor payment flow: two-step process
- `e285d81` - Add auto-update script

### 10.3. –í—Ä–µ–º—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
–û–±—â–µ–µ –≤—Ä–µ–º—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏: ~25-28 —á–∞—Å–æ–≤

---

## 11. –í–∞–∂–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è –∏ –ø–∞—Ç—Ç–µ—Ä–Ω—ã

### 11.1. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è
- **–ú–æ–Ω–æ—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:** –£–ø—Ä–æ—â–∞–µ—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏
- **TypeScript:** –¢–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –Ω–∞ –≤—Å–µ—Ö —É—Ä–æ–≤–Ω—è—Ö
- **Prisma ORM:** –¢–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ –ë–î
- **JWT –¥–æ–ª–≥–æ–∂–∏–≤—É—â–∏–µ —Ç–æ–∫–µ–Ω—ã:** –£–ø—Ä–æ—â–∞–µ—Ç —Ä–∞–±–æ—Ç—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–Ω–µ –Ω—É–∂–Ω–æ —á–∞—Å—Ç–æ –ø–µ—Ä–µ–ª–æ–≥–∏–Ω–∏–≤–∞—Ç—å—Å—è)
- **Soft Delete:** –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –¥–∞–Ω–Ω—ã—Ö
- **Rate Limiting:** –ó–∞—â–∏—Ç–∞ –æ—Ç –∑–ª–æ—É–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–π

### 11.2. –ü–∞—Ç—Ç–µ—Ä–Ω—ã –∫–æ–¥–∞
- **Service Layer:** –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –≤ —Å–µ—Ä–≤–∏—Å–∞—Ö, –Ω–µ –≤ —Ä–æ—É—Ç–∞—Ö
- **Middleware Chain:** –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è ‚Üí –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è ‚Üí –í–∞–ª–∏–¥–∞—Ü–∏—è ‚Üí –û–±—Ä–∞–±–æ—Ç—á–∏–∫
- **Error Handling:** –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- **Context API:** –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –±–µ–∑ Redux
- **Lazy Loading:** PDF –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

### 11.3. –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–¥—Å—á–µ—Ç –¥–∏–ø–ª–æ–º–æ–≤:** –ü–æ —Ä—É—Å—Å–∫–∏–º —Å–∏–º–≤–æ–ª–∞–º –≤ —Å–ø–∏—Å–∫–µ
- **–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ Excel:** –î–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è
- **–ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–ª–∞—Ç–µ–∂–µ–π:** –ß–µ—Ä–µ–∑ UUID –¥–ª—è –≥–∏–±–∫–æ—Å—Ç–∏
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–æ–≤:** Redis –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- **–ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —á–µ—Ä–Ω–æ–≤–∏–∫–æ–≤:** –£–ª—É—á—à–µ–Ω–∏–µ UX

---

## 12. –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

### 12.1. –¢–µ–∫—É—â–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
- Excel –∏–º–ø–æ—Ä—Ç —Ç—Ä–µ–±—É–µ—Ç –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∞ —Ñ–∞–π–ª–∞
- PDF —ç–∫—Å–ø–æ—Ä—Ç –º–æ–∂–µ—Ç –±—ã—Ç—å –º–µ–¥–ª–µ–Ω–Ω—ã–º –¥–ª—è –±–æ–ª—å—à–∏—Ö –æ–±—ä–µ–º–æ–≤ –¥–∞–Ω–Ω—ã—Ö
- Email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —Ç—Ä–µ–±—É—é—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ SMTP

### 12.2. –¢—Ä–µ–±—É–µ—Ç –≤–Ω–∏–º–∞–Ω–∏—è
- Rate limiting –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –º–æ–≥—É—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∏ –ø–æ–¥ –Ω–∞–≥—Ä—É–∑–∫—É
- –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç—Ä–µ–±—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ cron –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏
- CORS –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –¥–æ–º–µ–Ω–∞

---

## 13. –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ —Ä–∞–∑–≤–∏—Ç–∏—è

### 13.1. –ü–ª–∞–Ω–∏—Ä—É–µ–º—ã–µ —É–ª—É—á—à–µ–Ω–∏—è
- –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
- –£–ª—É—á—à–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –ø—Ä–∏ –±–æ–ª—å—à–∏—Ö –æ–±—ä–µ–º–∞—Ö –¥–∞–Ω–Ω—ã—Ö
- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã —ç–∫—Å–ø–æ—Ä—Ç–∞
- –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- –ú–æ–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### 13.2. –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
- –†–µ–≥—É–ª—è—Ä–Ω–æ–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –ë–î
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ª–æ–≥–æ–≤ –∏ –æ—à–∏–±–æ–∫
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ staging –æ–∫—Ä—É–∂–µ–Ω–∏–∏ –ø–µ—Ä–µ–¥ production

---

## 14. –ö–æ–Ω—Ç–∞–∫—Ç—ã –∏ —Ä–µ—Å—É—Ä—Å—ã

- **GitHub Repository:** https://github.com/punk03/FTR_REG
- **Production URL:** http://185.185.68.105:3000
- **API URL:** http://185.185.68.105:3001

---

## 15. –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –¥–ª—è –Ω–æ–≤–æ–≥–æ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞

1. **–ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:**
   ```bash
   git clone https://github.com/punk03/FTR_REG.git
   cd FTR_REG
   ```

2. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
   ```bash
   npm install
   cd backend && npm install && cd ..
   cd frontend && npm install && cd ..
   ```

3. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –æ–∫—Ä—É–∂–µ–Ω–∏–µ:**
   - –°–æ–∑–¥–∞—Ç—å `backend/.env` —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –ë–î –∏ JWT
   - –°–æ–∑–¥–∞—Ç—å `frontend/.env` —Å `VITE_API_URL`

4. **–ó–∞–ø—É—Å—Ç–∏—Ç—å Docker:**
   ```bash
   docker-compose up -d
   ```

5. **–ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏:**
   ```bash
   cd backend
   npx prisma migrate dev
   npx prisma db seed
   ```

6. **–ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:**
   ```bash
   # Backend
   cd backend && npm run dev

   # Frontend (–≤ –¥—Ä—É–≥–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ)
   cd frontend && npm run dev
   ```

7. **–í–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É:**
   - Email: `admin@ftr.ru`
   - Password: `admin123`

---

**–î–æ–∫—É–º–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω:** 2025-11-28  
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2025-11-28  
**–í–µ—Ä—Å–∏—è:** 1.0

