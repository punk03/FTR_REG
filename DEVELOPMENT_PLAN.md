# План разработки FTR Registration System

## Технические решения на основе уточнений

### Инфраструктура
- **База данных**: PostgreSQL локально (Docker Compose), для production - VPS
- **Файловое хранилище**: локальная файловая система
- **Кэширование**: Redis (обязательно с начала разработки)
- **Деплой**: VPS сервер, SSL позже
- **Максимальный размер файла Excel**: 100 MB

### Безопасность и авторизация
- **Хранение токенов**: localStorage
- **Пароли**: минимум 6 символов
- **Rate limiting**: опционально (можно добавить позже)
- **Audit log**: обязательная таблица для отслеживания действий администраторов

### Бизнес-логика
- **Откаты**: рассчитываются от общей суммы всех выступлений в группе
- **Федеральные участники**: используют pricePerParticipant если pricePerFederationParticipant не указан
- **Номера регистраций**: автоматическая генерация с возможностью ручного редактирования
- **Дипломы**: многострочный текст (\n), автоматический подсчет количества из списка
- **Отмена оплаты дипломов**: настраиваемое время через системные настройки
- **Excel импорт**: спрашивать пользователя о режиме удаления, отчет об ошибках, показывать все строки в preview
- **Дубликаты**: объединение коллективов и персон при создании

### UI/UX
- **Язык**: русский интерфейс
- **Формат дат**: DD.MM.YYYY (российский формат)
- **Часовой пояс**: московское время (UTC+3)
- **Пагинация**: везде где есть списки (25 записей на страницу, настраиваемо)
- **Экспорт**: Excel для таблиц, все форматы для бухгалтерии
- **Темная тема**: обязательна с переключателем
- **Мобильная версия**: критически важна, полная адаптация
- **Браузеры**: современные (без IE11), но с поддержкой accessibility (WCAG)
- **Поиск**: trigram search для опечаток, подсветка результатов
- **Уведомления**: базовые (toast/snackbar)
- **Подтверждения**: на все деструктивные действия
- **Состояния загрузки**: комбинация спиннеров, skeleton screens и progress bars

### Дополнительные требования
- **Черновики регистраций**: автосохранение незавершенных форм
- **Редактирование регистраций**: ограниченное после оплаты (только определенные поля)
- **Удаление регистраций**: только ADMIN, с предупреждением
- **Бухгалтерия**: редактирование и soft delete (ADMIN)
- **Статистика**: real-time обновления (WebSocket/polling), кэш 5 минут, все фильтры
- **Админ**: может редактировать себя, не может удалить себя, минимум один ADMIN в системе
- **Дублирование событий**: спрашивать о копировании регистраций
- **Архивирование событий**: скрывать регистрации из списков
- **Цены**: только положительные числа, 0 знаков после запятой (рубли), символ ₽
- **Тестовые данные**: создать seed с демо-аккаунтами для всех ролей
- **Начальный админ**: admin / admin123

### Документация и код
- **Документация**: русский и английский языки
- **API документация**: Swagger/OpenAPI
- **Пользовательское руководство**: подробное
- **Стиль кода**: стандартный (ESLint + Prettier)
- **Git workflow**: простой (main branch)
- **Commit messages**: простые

### Мониторинг и деплой
- **Логирование**: console.log (для разработки)
- **Error tracking**: не нужен
- **Резервное копирование**: автоматическое (скрипты)
- **Мониторинг**: health checks и метрики
- **CI/CD**: GitHub Actions для тестов и деплоя

---

## Этап 1: Настройка инфраструктуры проекта

### 1.1. Структура монорепозитория
- Создание корневой структуры проекта
- Настройка package.json для workspace (npm/yarn workspaces)
- Создание директорий: `backend/`, `frontend/`, `docker/`
- Настройка .gitignore, .editorconfig, .eslintrc (стандартный стиль)
- Создание README.md с описанием проекта (русский и английский)

### 1.2. Backend инфраструктура
- Инициализация Node.js проекта в `backend/`
- Установка зависимостей: Express, TypeScript, Prisma, JWT, bcryptjs, express-validator, Redis клиент (ioredis)
- Настройка TypeScript конфигурации (tsconfig.json)
- Настройка структуры папок: `src/routes/`, `src/middleware/`, `src/services/`, `src/utils/`, `src/types/`
- Создание точки входа `src/index.ts`
- Настройка переменных окружения (.env.example)
- Настройка Redis подключения и кэширования (сервис кэширования)

### 1.3. Frontend инфраструктура
- Инициализация Vite + React + TypeScript проекта в `frontend/`
- Установка зависимостей: React 18, Material-UI, React Router, Axios, Recharts, ExcelJS, pdfMake
- Настройка структуры: `src/components/`, `src/pages/`, `src/context/`, `src/services/`, `src/types/`, `src/hooks/`
- Настройка темы Material-UI (`src/theme.ts`) с поддержкой темной темы и переключателем
- Создание точки входа `src/main.tsx` и `src/App.tsx`
- Настройка поддержки accessibility (WCAG стандарты)
- Настройка форматирования дат (DD.MM.YYYY) и времени (московское время)

### 1.4. Docker и база данных
- Создание docker-compose.yml для PostgreSQL и Redis
- Настройка Dockerfile для backend и frontend
- Создание скриптов запуска (start.sh, start.bat)
- Настройка health checks для всех сервисов

---

## Этап 2: База данных и Prisma схема

### 2.1. Инициализация Prisma
- Установка Prisma CLI
- Инициализация Prisma (`prisma init`)
- Настройка подключения к PostgreSQL

### 2.2. Создание схемы базы данных
- Определение всех моделей в `prisma/schema.prisma`:
  - User (users) - с полями для audit log
  - Event (events) - с discountTiers как JSON
  - EventPrice (event_prices)
  - Collective (collectives)
  - Person (persons)
  - Discipline, Nomination, Age, Category (справочники)
  - Registration (registrations) - с поддержкой черновиков
  - RegistrationLeader, RegistrationTrainer (связующие таблицы)
  - Participant (participants)
  - RegistrationParticipant (связующая таблица)
  - AccountingEntry (accounting_entries) - с soft delete
  - Payment (payments)
  - SystemSetting (system_settings)
  - **AuditLog (audit_logs)** - новая таблица для аудита
- Настройка связей между моделями
- Определение enum типов (Role, EventStatus, PaymentStatus, PaymentMethod, PaidFor)
- Настройка индексов для производительности (особенно для поиска)

### 2.3. Миграции и seed данные
- Создание начальной миграции
- Создание seed файла (`prisma/seed.ts`) с:
  - Справочниками (47 дисциплин, 7 номинаций, 8 возрастов, 3 категории)
  - **Демо-пользователями для всех ролей**:
    - ADMIN: admin@ftr.ru / admin123
    - REGISTRATOR: registrar@ftr.ru / registrar123
    - ACCOUNTANT: accountant@ftr.ru / accountant123
    - STATISTICIAN: statistician@ftr.ru / statistician123
  - Тестовым мероприятием с настройками
  - Тестовыми регистрациями и оплатами (для демонстрации)
- Запуск миграций и seed

---

## Этап 3: Backend - Базовая инфраструктура и авторизация

### 3.1. Утилиты и middleware
- Создание JWT утилит (`src/utils/jwt.ts`):
  - Генерация access и refresh токенов (100 лет)
  - Верификация токенов
- Создание middleware авторизации (`src/middleware/auth.ts`):
  - authenticateToken - проверка токена из localStorage
  - requireRole - проверка ролей
- Middleware обработки ошибок (`src/middleware/errorHandler.ts`)
- Middleware валидации (`src/middleware/validation.ts`)
- Middleware для audit log (`src/middleware/auditLog.ts`) - запись действий администраторов

### 3.2. API авторизации
- Роут POST /api/auth/login (`src/routes/auth.ts`):
  - Проверка email/password
  - Хеширование паролей (bcrypt, 10 rounds)
  - Генерация токенов
  - Возврат user данных
- Роут POST /api/auth/refresh
- Роут GET /api/auth/me
- Роут POST /api/auth/logout

### 3.3. Типы и интерфейсы
- Создание TypeScript типов (`src/types/`):
  - User, Event, Registration, Payment и т.д.
  - Request/Response типы для API
  - Enum типы

### 3.4. Кэширование (Redis)
- Создание сервиса кэширования (`src/services/cacheService.ts`)
- Кэширование справочников (дисциплины, номинации, возрасты, категории)
- Кэширование статистики (5 минут TTL)
- Инвалидация кэша при изменениях

---

## Этап 4: Backend - Справочники и базовые CRUD

### 4.1. API справочников
- Роут GET /api/reference/disciplines (с кэшированием)
- Роут GET /api/reference/nominations (с кэшированием)
- Роут GET /api/reference/ages (с кэшированием)
- Роут GET /api/reference/categories (с кэшированием)
- Роут GET /api/reference/events (с фильтрацией по статусу)

### 4.2. API мероприятий (Events)
- Роут GET /api/events (список с фильтрацией, пагинация)
- Роут GET /api/events/:id
- Роут POST /api/events (ADMIN) - с audit log
- Роут PUT /api/events/:id (ADMIN) - с audit log
- Роут POST /api/events/:id/duplicate (ADMIN) - спрашивать о копировании регистраций
- Роут DELETE /api/events/:id/registrations (ADMIN) - с подтверждением
- Роут DELETE /api/events/:id (ADMIN) - мягкая защита (предупреждение)
- Сервис для работы с discountTiers (парсинг/валидация JSON)

### 4.3. API цен на события (EventPrices)
- Роут GET /api/events/:id/prices
- Роут POST /api/events/:id/prices (ADMIN)
- Роут PUT /api/events/:eventId/prices (массовое обновление, ADMIN)
- Валидация цен: только положительные числа, 0 знаков после запятой

### 4.4. API автозаполнения (Suggestions)
- Роут GET /api/suggestions/collectives?q=query (trigram search)
- Роут GET /api/suggestions/persons?q=query&role=LEADER|TRAINER (trigram search)
- Логика поиска с debounce на уровне API
- Подсветка результатов в ответе

---

## Этап 5: Backend - Система регистраций

### 5.1. API регистраций (базовый CRUD)
- Роут GET /api/registrations (список с фильтрацией, поиском, пагинацией):
  - Поиск по всем полям (trigram search)
  - Фильтры по статусу оплаты, статусу регистрации, дате
  - Сортировка
- Роут GET /api/registrations/:id
- Роут POST /api/registrations (создание)
- Роут PATCH /api/registrations/:id (редактирование с ограничениями после оплаты)
- Роут DELETE /api/registrations/:id (только ADMIN, с предупреждением)
- Роут POST /api/registrations/:id/draft (сохранение черновика)
- Роут GET /api/registrations/drafts (получение черновиков)

### 5.2. Бизнес-логика регистраций
- Сервис создания регистрации (`src/services/registrationService.ts`):
  - Автозаполнение коллективов (upsert, объединение дубликатов)
  - Автозаполнение персон (руководители/тренеры, объединение дубликатов)
  - Парсинг участников (parseParticipants)
  - Валидация номинаций (количество участников)
  - Автоматическое присвоение номера в событии (с возможностью ручного редактирования)
- Роут POST /api/registrations/count-in-direction (подсчет заявок)
- Логика черновиков: автосохранение незавершенных форм

### 5.3. Расчет стоимости
- Роут GET /api/registrations/:id/calculate-price
- Логика расчета:
  - Стоимость выступления (с учетом федеральных участников, fallback на обычную цену)
  - Стоимость дипломов/медалей
  - Общая сумма
  - Форматирование: рубли без копеек, символ ₽

### 5.4. API участников (Participants)
- Роут GET /api/participants (для select компонента)
- Роут POST /api/participants (создание с расчетом возраста)

---

## Этап 6: Backend - Система оплат и бухгалтерия

### 6.1. Создание оплат
- Роут POST /api/payments/create:
  - Расчет общей суммы выступлений (с учетом федеральных участников)
  - Расчет общей суммы дипломов/медалей
  - **Применение отката от общей суммы всех выступлений в группе** (если applyDiscount=true)
  - Пропорциональное распределение по способам оплаты
  - Создание AccountingEntry записей
  - Группировка через paymentGroupId (UUID)
  - Обновление статусов регистраций
  - Audit log для критичных операций

### 6.2. Пересчет статусов оплаты
- Функция recalculateRegistrationPaymentStatus:
  - Получение всех AccountingEntry для регистрации (исключая удаленные)
  - Подсчет оплаченных сумм по категориям
  - Определение статусов (UNPAID, PERFORMANCE_PAID, DIPLOMAS_PAID, PAID)
  - Обновление registration

### 6.3. API бухгалтерии
- Роут GET /api/accounting (список с фильтрацией, пагинация):
  - Группировка по paymentGroupId
  - Сводная статистика (summary)
  - Фильтры: способ оплаты, категория, дата
- Роут PUT /api/accounting/:id (редактирование записи, ADMIN/ACCOUNTANT)
- Роут DELETE /api/accounting/:id (soft delete, ADMIN)
- Роут POST /api/accounting/:id/restore (восстановление, ADMIN)
- Роут PUT /api/accounting/payment-group/:paymentGroupId/name
- Роут PUT /api/accounting/payment-group/:paymentGroupId/discount (применение отката к группе от общей суммы)

### 6.4. Обновление оплат
- Роут PUT /api/payments/:id
- Роут GET /api/payments/price-settings
- Роут PUT /api/payments/price-settings (ADMIN)

### 6.5. Экспорт бухгалтерии
- Роут GET /api/accounting/export/excel
- Роут GET /api/accounting/export/pdf
- Роут GET /api/accounting/export/csv

---

## Этап 7: Backend - Дипломы, статистика, импорт

### 7.1. API дипломов и медалей
- Роут GET /api/diplomas (список с фильтрацией, пагинация):
  - Фильтры: оплачено/неоплачено, распечатано/не распечатано, удаленные
  - Поиск по коллективу, названию, дисциплине
- Роут PATCH /api/registrations/:id (редактирование diplomasList, diplomasCount, medalsCount):
  - Автоматический подсчет diplomasCount из списка
  - Формат diplomasList: многострочный текст (\n)
- Роут POST /api/diplomas/pay (массовая оплата)
- Роут POST /api/diplomas/:id/cancel-payment (отмена оплаты):
  - Настраиваемое время ограничения через системные настройки
  - REGISTRATOR: только в течение настроенного времени
  - ADMIN: без ограничений
- Роут PATCH /api/diplomas/:id/printed (отметка печати)
- Роут PATCH /api/diplomas/bulk-printed (массовая отметка)
- Роут DELETE /api/diplomas/:id (soft delete)
- Роут POST /api/diplomas/:id/restore (восстановление)

### 7.2. API статистики
- Роут GET /api/statistics?eventId=X:
  - Общая статистика (overview)
  - Статистика по номинациям, дисциплинам, возрастам
  - Статистика по оплатам
  - **Кэширование на 5 минут**
  - **Real-time обновления через WebSocket или polling**
- Роут GET /api/statistics/export/excel (экспорт в Excel)
- Роут GET /api/statistics/export/csv (экспорт в CSV)
- Фильтры: диапазон дат, статусы оплат, дисциплины и т.д.

### 7.3. Импорт данных
- Роут POST /api/excel-import:
  - Парсинг Excel файла (ExcelJS, максимум 100 MB)
  - Определение категории из строки
  - Парсинг участников
  - **Режим dryRun: показывать все строки в preview**
  - **Спрашивать пользователя о режиме удаления** (все регистрации или только дубликаты)
  - **Продолжать импорт при ошибках, возвращать отчет**
  - Создание регистраций
- Роут POST /api/admin/database/import (SQL импорт, ADMIN)

### 7.4. Админ-панель API
- Роуты управления пользователями:
  - GET, POST, PUT, DELETE /api/admin/users
  - **Защита: ADMIN не может удалить себя**
  - **Защита: минимум один ADMIN в системе**
  - **ADMIN может редактировать свой профиль**
- Роуты управления коллективами:
  - GET, DELETE /api/admin/collectives
- Роуты управления персонами:
  - GET, DELETE /api/admin/persons
- Роуты системных настроек:
  - GET /api/admin/settings
  - PUT /api/admin/settings/:key
  - **Настройка времени отмены оплаты дипломов**

---

## Этап 8: Frontend - Базовая инфраструктура и авторизация

### 8.1. Настройка роутинга и контекста
- Настройка React Router (`src/App.tsx`)
- Создание AuthContext (`src/context/AuthContext.tsx`):
  - Состояние пользователя
  - Функции login, logout
  - Проверка токенов из localStorage
  - Автоматическое обновление токенов
- Создание API клиента (`src/services/api.ts`):
  - Axios instance с interceptors
  - Автоматическое добавление токенов
  - Обработка ошибок 401
  - Форматирование дат (DD.MM.YYYY)
  - Работа с московским временем

### 8.2. Компоненты авторизации
- Страница Login (`src/pages/Login.tsx`):
  - Форма email/password
  - Обработка ошибок
  - Редирект после входа
  - Адаптивный дизайн для мобильных
- Компонент ProtectedRoute (`src/components/ProtectedRoute.tsx`):
  - Проверка авторизации
  - Проверка ролей
  - Редирект на /login

### 8.3. Layout и навигация
- Компонент Layout (`src/components/Layout.tsx`):
  - Навигационное меню (Material-UI Drawer)
  - Отображение текущего пользователя
  - Кнопка выхода
  - **Переключатель темы (светлая/темная)**
  - Адаптивное меню для мобильных (гамбургер)
  - Поддержка accessibility
- Настройка маршрутов с Layout

### 8.4. Типы TypeScript
- Создание типов (`src/types/`):
  - User, Event, Registration, Payment и т.д.
  - API response типы
  - Enum типы

### 8.5. Утилиты и хуки
- Хуки для работы с датами (`src/hooks/useDate.ts`)
- Хуки для работы с формами (`src/hooks/useForm.ts`)
- Утилиты форматирования (`src/utils/format.ts`)

---

## Этап 9: Frontend - Основные страницы

### 9.1. Страница списка регистраций
- Компонент RegistrationsList (`src/pages/RegistrationsList.tsx`):
  - Фильтр по событию
  - **Поиск с trigram search (debounce 300ms)**
  - **Подсветка результатов поиска**
  - Таблица с колонками (адаптивная для мобильных)
  - **Пагинация (25 записей на страницу, настраиваемо)**
  - Цветовая индикация статусов
  - Кнопка создания
  - Клик по строке → детали
  - **Состояния загрузки: skeleton screens**
  - **Экспорт в Excel**

### 9.2. Страница создания/редактирования регистрации
- Компонент RegistrationForm (`src/pages/RegistrationForm.tsx`):
  - Многошаговая форма (Stepper из Material-UI)
  - Шаг 1: Информация о коллективе
  - Шаг 2: Участники
  - Шаг 3: Направление
  - Шаг 4: Информация о номере
  - Шаг 5: Соглашения
  - Валидация на каждом шаге (умеренная строгость)
  - Автозаполнение (AutoCompleteTextField)
  - Предупреждения о количестве заявок
  - **Автосохранение черновиков**
  - **Ограничения редактирования после оплаты**
  - Адаптивный дизайн

### 9.3. Страница деталей регистрации
- Компонент RegistrationDetails (`src/pages/RegistrationDetails.tsx`):
  - Полная информация
  - Кнопки редактирования/удаления (по ролям)
  - Расчет стоимости
  - История оплат
  - **Подтверждение удаления (диалог)**

### 9.4. Компоненты автозаполнения
- AutoCompleteTextField (`src/components/AutoCompleteTextField.tsx`):
  - Debounce поиск (300ms)
  - Индикатор загрузки
  - Выпадающий список
  - **Подсветка результатов**
- ParticipantModal (`src/components/ParticipantModal.tsx`):
  - Список участников с поиском
  - Форма создания
  - Выбор участников

---

## Этап 10: Frontend - Сложные компоненты и интеграция

### 10.1. Страница бухгалтерии
- Компонент Accounting (`src/pages/Accounting.tsx`):
  - Выбор события
  - Карточки сводных данных
  - Вкладки (объединенные платежи, одиночные)
  - Группы платежей с развертыванием
  - Таблицы одиночных платежей
  - **Пагинация**
  - Диалог редактирования записи
  - Диалог управления откатом
  - **Кнопки экспорта (Excel, PDF, CSV)**
  - **Подтверждения на деструктивные действия**

### 10.2. Страница объединенной оплаты
- Компонент CombinedPayment (`src/pages/CombinedPayment.tsx`):
  - Выбор события
  - Список регистраций с чекбоксами
  - Фильтры и поиск
  - **Редактирование данных регистраций в форме**:
    - participantsCount
    - federationParticipantsCount
    - medalsCount
    - diplomasList (многострочное поле)
  - Автоматический пересчет стоимости при изменении данных
  - Распределение по способам оплаты
  - Чекбокс "Применить откат" (только для выступлений)
  - Поле названия группы
  - Предпросмотр сумм с детализацией
  - **Состояния загрузки: progress bars**

### 10.3. Страница дипломов и медалей
- Компонент Diplomas (`src/pages/Diplomas.tsx`):
  - Выбор события
  - Таблица с пагинацией (25 записей, настраиваемо)
  - **Поиск и фильтры**:
    - Показать/скрыть оплаченные
    - Показать/скрыть неоплаченные
    - Показать/скрыть распечатанные
    - Показать/скрыть удаленные
  - Развертывание строки для списка дипломов
  - Массовый выбор
  - Кнопки массовых операций
  - Диалог оплаты
  - Диалог редактирования дипломов:
    - Многострочное поле списка ФИО
    - Автоматический подсчет количества дипломов
  - Диалог предзаказа
  - Адаптивный дизайн для мобильных

### 10.4. Страница статистики
- Компонент Statistics (`src/pages/Statistics.tsx`):
  - Выбор события
  - Карточки общей статистики
  - **Фильтры**: диапазон дат, статусы оплат, дисциплины и т.д.
  - Графики (Recharts):
    - Круговая диаграмма по номинациям
    - Круговая диаграмма по статусам оплат
    - Столбчатая диаграмма по дисциплинам
    - Столбчатая диаграмма по возрастам
  - Кнопки экспорта (Excel, CSV)
  - **Real-time обновления** (WebSocket или polling)
  - Адаптивные графики для мобильных

### 10.5. Админ-панель
- Компонент Admin (`src/pages/Admin.tsx`):
  - Вкладки (Tabs):
    - Пользователи (таблица, CRUD диалоги):
      - **Защита от удаления себя**
      - **Защита от удаления последнего ADMIN**
      - **Редактирование своего профиля**
    - Мероприятия (список, форма создания/редактирования):
      - **Диалог дублирования с вопросом о регистрациях**
      - **Мягкая защита от удаления с регистрациями**
    - Цены на выступления
    - Системные настройки:
      - **Настройка времени отмены оплаты дипломов**
  - Управление коллективами и персонами
  - DiscountTiersEditor компонент
  - ExcelImportDialog компонент:
    - **Показ всех строк в preview**
    - **Вопрос о режиме удаления**
    - **Отчет об ошибках**

### 10.6. Компоненты уведомлений и подтверждений
- Toast/Snackbar компонент для уведомлений
- Диалоги подтверждения для всех деструктивных действий
- ErrorBoundary компонент
- Loading states: спиннеры, skeleton screens, progress bars

---

## Этап 11: Тестирование и документация

### 11.1. Unit тесты (опционально)
- Тесты критичной бизнес-логики:
  - Расчет стоимости
  - Расчет откатов (от общей суммы группы)
  - Пересчет статусов
  - Парсинг данных
  - Валидация номинаций

### 11.2. Документация
- Обновление README.md (русский и английский):
  - Инструкции по установке
  - Инструкции по запуску
  - Описание структуры проекта
  - Демо-аккаунты
- **API документация (Swagger/OpenAPI)**:
  - Автоматическая генерация из комментариев
  - Описание всех endpoints
  - Примеры запросов/ответов
- **Пользовательское руководство**:
  - Подробное описание всех функций
  - Скриншоты
  - FAQ
- Комментарии в коде (русский и английский)

### 11.3. Обработка ошибок
- ErrorBoundary компонент (`src/components/ErrorBoundary.tsx`)
- Глобальная обработка ошибок на frontend
- Улучшение обработки ошибок на backend
- Логирование ошибок (console.log)

---

## Этап 12: Деплой и финализация

### 12.1. Docker конфигурация
- Оптимизация Dockerfile для production
- Настройка docker-compose для production
- Health checks для всех сервисов
- Настройка Redis для production

### 12.2. Переменные окружения
- Создание .env.example для backend и frontend
- Документация по настройке окружения
- Настройка для VPS деплоя

### 12.3. Резервное копирование
- Создание скриптов автоматического резервного копирования БД
- Документация по восстановлению
- Настройка расписания бэкапов

### 12.4. Мониторинг
- Настройка health checks endpoints
- Метрики производительности
- Логирование критичных операций

### 12.5. CI/CD
- Настройка GitHub Actions:
  - Автоматические тесты
  - Проверка кода (ESLint, TypeScript)
  - Сборка и деплой
  - Уведомления об ошибках

### 12.6. Финальная проверка
- Проверка всех функций по ТЗ
- Проверка требований из уточнений:
  - Мобильная версия (критически важна)
  - Accessibility (WCAG)
  - Темная тема
  - Все фильтры и поиск
  - Real-time статистика
  - Черновики регистраций
  - Ограничения редактирования
- Исправление багов
- Оптимизация производительности
- Проверка безопасности
- Тестирование на разных браузерах (без IE11)

---

## Дополнительные задачи

### Опциональные улучшения (можно добавить позже)
- Rate limiting на критичных endpoints
- Email уведомления
- Интеграция с платежными системами
- SMS уведомления
- История изменений регистраций (детальная)
- Массовые операции над регистрациями
- Шаблоны регистраций
- Расширенная аналитика
- Мультиязычность (i18n)

---

## Приоритизация задач

### Критичные (P0)
1. Инфраструктура и база данных
2. Авторизация и безопасность
3. Базовые CRUD операции
4. Система регистраций
5. Система оплат и бухгалтерия
6. Мобильная адаптация

### Важные (P1)
1. Дипломы и медали
2. Статистика с real-time
3. Импорт Excel
4. Админ-панель
5. Темная тема
6. Accessibility

### Желательные (P2)
1. Документация (Swagger, руководство)
2. Тесты
3. CI/CD
4. Мониторинг
5. Резервное копирование


