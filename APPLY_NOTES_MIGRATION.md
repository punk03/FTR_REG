# Применение миграции для добавления поля notes в регистрации

## Описание
Добавлено поле `notes` (заметки) в модель `Registration`, которое позволяет добавлять заметки к каждому танцу. Эти заметки будут видны во всех меню, где отображаются регистрации:
- Список регистраций
- Объединенная оплата
- Дипломы
- Бухгалтерия

## Применение миграции

### Вариант 1: Автоматическое создание и применение миграции (рекомендуется)
```bash
docker-compose exec backend npx prisma migrate dev --name add_notes_to_registration --schema=prisma/schema.prisma
```

### Вариант 2: Применение существующей миграции
Если миграция уже создана, примените её:
```bash
docker-compose exec backend npx prisma migrate deploy --schema=prisma/schema.prisma
```

### Вариант 3: Ручное применение SQL
Если автоматические миграции не работают, выполните SQL напрямую:
```bash
docker-compose exec postgres psql -U ftr_user -d ftr_db -c "ALTER TABLE \"Registration\" ADD COLUMN IF NOT EXISTS \"notes\" TEXT;"
```

## Проверка применения миграции
После применения миграции проверьте, что поле добавлено:
```bash
docker-compose exec postgres psql -U ftr_user -d ftr_db -c "\d \"Registration\""
```

В списке колонок должно появиться поле `notes` типа `text`.

## Использование
1. При создании или редактировании регистрации в форме есть поле "Заметки к регистрации"
2. Заметки отображаются:
   - В таблице регистраций (колонка "Заметки")
   - В мобильных карточках регистраций
   - В развернутом блоке дипломов
   - В бухгалтерии рядом с информацией о регистрации

## Примечания
- Поле `notes` является опциональным (может быть `null`)
- Заметки сохраняются как обычный текст
- Заметки можно редактировать в любое время через форму редактирования регистрации

