# Конфигурация файла .env

## Описание параметров

### API Configuration (Настройки API)

#### `API_BASE_URL`
**Описание:** Базовый URL вашего **ВЕБ-ИНТЕРФЕЙСА** (frontend), который проксирует запросы к backend

**ВАЖНО:** Используйте адрес **frontend**, а не backend напрямую! Frontend автоматически проксирует запросы к backend.

**Примеры:**
- Локальный frontend (Docker): `http://localhost:3000/api`
- Удаленный сервер: `http://your-domain.com/api`
- Сервер с HTTPS: `https://your-domain.com/api`
- По IP адресу: `http://192.168.1.100:3000/api`

**Как узнать адрес:**
1. Если frontend запущен локально (через docker-compose), обычно это `http://localhost:3000/api`
2. Если frontend на удаленном сервере, используйте тот же адрес, что и для веб-интерфейса в браузере + `/api`
3. Проверьте в браузере адресную строку при работе с веб-версией - используйте тот же адрес
4. Спросите у администратора адрес frontend (веб-интерфейса)

#### `API_TIMEOUT`
**Описание:** Таймаут запросов к API в секундах

**Рекомендуемые значения:**
- Быстрое соединение: `30` (по умолчанию)
- Медленное соединение: `60` или `120`
- Очень медленное: `180`

---

### Sync Configuration (Настройки синхронизации)

#### `SYNC_INTERVAL`
**Описание:** Интервал автоматической синхронизации в секундах

**Рекомендуемые значения:**
- Частая синхронизация (каждую минуту): `60`
- Средняя синхронизация (каждые 5 минут): `300`
- Редкая синхронизация (каждые 15 минут): `900`
- Только ручная синхронизация: `0` (и установите `AUTO_SYNC=false`)

**Примечание:** Чем чаще синхронизация, тем больше нагрузка на сервер и интернет-трафик.

#### `AUTO_SYNC`
**Описание:** Включить автоматическую синхронизацию

**Возможные значения:**
- `true` - автоматическая синхронизация включена
- `false` - только ручная синхронизация

---

### Database Configuration (Настройки базы данных)

#### `DB_PATH`
**Описание:** Путь к локальной базе данных SQLite

**Рекомендуемые значения:**
- Относительный путь (в папке приложения): `./data/ftr_registration.db`
- Абсолютный путь: `/Users/username/.local/share/ftr_registration/ftr_registration.db`

**Примечание:** 
- Приложение автоматически создаст папки, если их нет
- Не меняйте этот путь без необходимости
- Для резервного копирования скопируйте этот файл

---

### Logging (Настройки логирования)

#### `LOG_LEVEL`
**Описание:** Уровень детализации логов

**Возможные значения (от меньшего к большему):**
- `DEBUG` - максимальная детализация (для отладки)
- `INFO` - обычная информация (рекомендуется)
- `WARNING` - только предупреждения и ошибки
- `ERROR` - только ошибки

**Рекомендация:** Используйте `INFO` для обычной работы, `DEBUG` только при проблемах.

#### `LOG_FILE`
**Описание:** Путь к файлу логов

**Рекомендуемые значения:**
- Относительный путь: `./logs/app.log`
- Абсолютный путь: `/Users/username/.local/share/ftr_registration/logs/app.log`

**Примечание:** Логи автоматически ротируются при достижении 10 MB.

---

### Application (Настройки приложения)

#### `APP_NAME`
**Описание:** Название приложения (отображается в интерфейсе)

**Можно изменить на:** Любое название, например `FTR Регистрации`

#### `APP_VERSION`
**Описание:** Версия приложения

**Не меняйте** без необходимости - это для внутреннего использования.

---

## Примеры конфигурации

### Пример 1: Локальный frontend (разработка)
```env
API_BASE_URL=http://localhost:3000/api
API_TIMEOUT=30
SYNC_INTERVAL=60
AUTO_SYNC=true
DB_PATH=./data/ftr_registration.db
LOG_LEVEL=DEBUG
LOG_FILE=./logs/app.log
APP_NAME=FTR Registration
APP_VERSION=1.0.0
```

### Пример 2: Удаленный frontend (продакшн)
```env
API_BASE_URL=https://ftr.lilfil.ru/api
API_TIMEOUT=60
SYNC_INTERVAL=300
AUTO_SYNC=true
DB_PATH=./data/ftr_registration.db
LOG_LEVEL=INFO
LOG_FILE=./logs/app.log
APP_NAME=FTR Registration
APP_VERSION=1.0.0
```

### Пример 3: Frontend по IP адресу
```env
API_BASE_URL=http://192.168.1.100:3000/api
API_TIMEOUT=30
SYNC_INTERVAL=60
AUTO_SYNC=true
DB_PATH=./data/ftr_registration.db
LOG_LEVEL=INFO
LOG_FILE=./logs/app.log
APP_NAME=FTR Registration
APP_VERSION=1.0.0
```

### Пример 3: Оффлайн режим (без автоматической синхронизации)
```env
API_BASE_URL=http://your-server.com/api
API_TIMEOUT=30
SYNC_INTERVAL=0
AUTO_SYNC=false
DB_PATH=./data/ftr_registration.db
LOG_LEVEL=INFO
LOG_FILE=./logs/app.log
APP_NAME=FTR Registration
APP_VERSION=1.0.0
```

---

## Как узнать адрес сервера?

### Если сервер запущен локально через Docker:
```bash
# Проверьте docker-compose.yml
cat docker-compose.yml | grep -A 5 "backend:"
# Обычно это http://localhost:5000/api
```

### Если сервер на удаленном сервере:
1. Спросите у администратора
2. Проверьте в настройках веб-приложения
3. Посмотрите в браузере адресную строку при работе с веб-версией

### Проверка доступности сервера:
```bash
# Замените на ваш адрес
curl http://localhost:5000/api/health
# или
curl https://your-server.com/api/health
```

---

## Важные замечания

1. **Не коммитьте файл .env в git** - он уже в .gitignore
2. **Не делитесь файлом .env** - он может содержать чувствительную информацию
3. **Делайте резервные копии** файла .env после настройки
4. **После изменения .env** перезапустите приложение

